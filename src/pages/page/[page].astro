---
import { getBlogs } from "../../library/microcms";
import Layout from "../../layouts/Layout.astro";
import TopMain from "../../components/TopMain.astro";

// URL生成
export const getStaticPaths = async ({ paginate }) => {
  const blogs = await getBlogs({ fields: ["id", "title", "eyecatch", "publishedAt", "tag"], orders: "-publishedAt" });
  return paginate(blogs.contents, { pageSize: 3, props: { blogs: blogs } });
};

const { page } = Astro.props;
const blogs = Astro.props;
---

<Layout title={`page ${page.currentPage} | Hachico BLog`} isTop>
  <TopMain blogs={blogs.page.data} />
</Layout>
